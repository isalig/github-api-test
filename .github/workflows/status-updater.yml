name: Dummy CI

on:                                # –∑–∞–ø—É—Å–∫–∞–µ–º –ø—Ä–∏ –ª—é–±–æ–º –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ PR
  pull_request:

jobs:
  build:
    runs-on: ubuntu-latest

    steps:
      - name: Fake build
        run: echo "Hello from CI ‚Äì I am doing nothing, just pretending!"

      # ----- –ü—É–±–ª–∏–∫—É–µ–º STATUS ¬´success¬ª -----
      - name: Publish SUCCESS status
        if: success()              # –≤—ã–ø–æ–ª–Ω–∏—Ç—Å—è —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –≤—Å—ë ‚Üë –ø—Ä–æ—à–ª–æ
        uses: actions/github-script@v7
        with:
          script: |
            await github.rest.repos.createCommitStatus({
              owner: context.repo.owner,
              repo:  context.repo.repo,
              sha:   context.sha,
              state: "success",          // <-- —Å—Ç–∞—Ç—É—Å
              context: "dummy-ci",       // <-- –∏–º—è ¬´–≥–∞–ª–æ—á–∫–∏¬ª –≤ PR
              description: "Dummy CI passed üéâ",
              target_url: `https://github.com/${context.repo.owner}/${context.repo.repo}/actions/runs/${context.runId}`
            })

      # ----- –ü—É–±–ª–∏–∫—É–µ–º STATUS ¬´failure¬ª -----
      - name: Publish FAILURE status
        if: failure()              # –≤—ã–ø–æ–ª–Ω–∏—Ç—Å—è –¢–û–õ–¨–ö–û –µ—Å–ª–∏ —á—Ç–æ-—Ç–æ —É–ø–∞–ª–æ –≤—ã—à–µ
        uses: actions/github-script@v7
        with:
          script: |
            await github.rest.repos.createCommitStatus({
              owner: context.repo.owner,
              repo:  context.repo.repo,
              sha:   context.sha,
              state: "failure",
              context: "dummy-ci",
              description: "Dummy CI failed üí•",
              target_url: `https://github.com/${context.repo.owner}/${context.repo.repo}/actions/runs/${context.runId}`
            })
